<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Enhanced Interactive Map App</title>
  
  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"/>
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css"/>
  
  <!-- Custom CSS -->
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <div id="app">
      <aside id="sidebar">
        <header>
          <h1>Map Dashboard</h1>
          <p class="muted">Explore, measure, and route with ease.</p>
        </header>

        <div class="controls">
          <button id="btn-location" class="btn">📍 Location</button>
          <button id="btn-add-marker" class="btn">➕ Marker</button>
          <button id="btn-measure" class="btn">📏 Measure</button>
          <button id="btn-route" class="btn">🛣️ Route</button>
          <button id="btn-clear" class="btn">🗑️ Clear</button>
          <button id="btn-export" class="btn">📤 Export</button>
        </div>

        <div class="search">
          <input id="search-input" placeholder="Search a city or address" />
          <button id="search-btn" class="btn primary">🔍</button>
        </div>

        <div class="select-wrap">
          <label for="style-select" class="small">Map Style</label>
          <select id="style-select" class="select">
            <option value="osm">Street</option>
            <option value="sat">Satellite</option>
            <option value="dark">Dark</option>
          </select>
        </div>

        <div class="stats">
          <div class="stat-item">
            <span class="stat-label">Markers</span>
            <span id="marker-count" class="stat-value">0</span>
          </div>
        </div>

        <div class="locations" id="locations-list"></div>

        <div id="loading" class="loading-overlay">
          <div class="spinner"></div>
          <p>Loading route...</p>
        </div>

        <div id="toast" class="toast"></div>

        <footer>
          <!-- Footer content removed -->
        </footer>
      </aside>

      <main>
        <div id="map"></div>
        <div class="map-controls">
          <button id="btn-fullscreen" class="map-btn">⛶</button>
        </div>
      </main>
    </div>
  </div>

  <!-- Modal for marker details -->
  <div id="marker-modal" class="modal">
    <div class="modal-content">
      <span class="close">&times;</span>
      <h2>Add Marker</h2>
      <form id="marker-form">
        <div class="form-group">
          <label for="marker-title">Title</label>
          <input type="text" id="marker-title" required>
        </div>
        <div class="form-group">
          <label for="marker-desc">Description</label>
          <textarea id="marker-desc" rows="3"></textarea>
        </div>
        <div class="form-group">
          <label for="marker-icon">Icon</label>
          <select id="marker-icon">
            <option value="📍">📍 Pin</option>
            <option value="🏠">🏠 Home</option>
            <option value="🏢">🏢 Office</option>
            <option value="⭐">⭐ Favorite</option>
          </select>
        </div>
        <div class="form-actions">
          <button type="button" id="cancel-marker" class="btn">Cancel</button>
          <button type="submit" class="btn primary">Save Marker</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Leaflet & Plugins -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
  <script src="https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.min.js"></script>

  <!-- Custom JS -->
  <script src="app.js"></script>
</body>
</html>
